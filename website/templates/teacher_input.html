<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../static/teacher_input.css" />
    <title>Document</title>
  </head>
  <body>
    <div class="cont">
      <form class="cont1" method="post">
        {{ form1.csrf_token }}
        {{ form1.year(class='drop')}}
        {{ form1.course(class='drop')}}
        {{ form1.subject(class='drop')}}
        {{ form1.sem(class='drop')}}
        <!-- <label for="years">Choose a year:</label>
        <select name="years" id="years">
          <option value="2019" >2019</option>
          <option value="2020">2020</option>
          <option value="2021">2021</option>
          <option value="2022">2022</option>
        </select>
        <br /><br />
        <input type="submit" value="Submit" class="submitid"/>
      </form>

      <form class="cont1">
        <label for="semesters">Choose a semester:</label>
        <select name="semesters" id="semesters">
          <option value="1st">1st</option>
          <option value="2nd">2nd</option>
          <option value="3rd">3rd</option>
          <option value="4th">4th</option>
          <option value="5th">5th</option>
          <option value="6th">6th</option>
          <option value="7th">7th</option>
          <option value="8th">8th</option>
        </select>
        <br /><br />
        <input type="submit" value="Submit" class="submitid"/>
      </form>

      <form class="cont1">
        <label for="courses">Choose a course:</label>
        <select name="courses" id="courses">
          <option value="chutiye">CSAI</option>
          <option value="cringe">CSB</option>
          <option value="non-existent">CS</option>
          <option value="kachra">IT</option>
        </select>
        <br /><br />
        <input type="submit" value="Submit" class="submitid"/>
      </form>

      <form class="cont1">
        <label for="subjects">Choose a subject:</label>
        <select name="subjects" id="subjects">
          <option value="DBMS">DBMS</option>
          <option value="OOPS">OOPS</option>
          <option value="DSA">DSA</option>
          <option value="Comp Arch">Comp Arch</option>
        </select>
        <br /><br />
        <input type="submit" value="Submit" class="submitid"/>
      </form> -->
      <input type="submit" value="Submit" class="submitid"/>
    </div>

    <div class="output">
        textarea
        Lorem ipsum dolor sit amet consecte
        tur adipisicing elit. Odio, impedit, deserunt sint earum animi co
        mmodi, possimus excepturi quo perferendis id magni est iure asperiores dolorem. Veritati
        s nobis maxime a, assumenda recusandae magnam, dol
        stinctio voluptatum repudiandae ea! Deserunt aut fuga a, sequi voluptates eius archite
        cto error.
        Lorem ipsum dolor sit amet consecte
        tur adipisicing elit. Odio, impedit, deserunt sint earum animi co
        mmodi, possimus excepturi quo perferendis id magni est iure asperiores dolorem. Veritati
        s nobis maxime a, assumenda recusandae magnam, dol
        stinctio voluptatum repudiandae ea! Deserunt aut fuga a, sequi voluptates eius archite
        cto error.
        Lorem ipsum dolor sit amet consecte
        tur adipisicing elit. Odio, impedit, deserunt sint earum animi co
        mmodi, possimus excepturi quo perferendis id magni est iure asperiores dolorem. Veritati
        s nobis maxime a, assumenda recusandae magnam, dol
        stinctio voluptatum repudiandae ea! Deserunt aut fuga a, sequi voluptates eius archite
        cto error.
        Lorem ipsum dolor sit amet consecte
        tur adipisicing elit. Odio, impedit, deserunt sint earum animi co
        mmodi, possimus excepturi quo perferendis id magni est iure asperiores dolorem. Veritati
        s nobis maxime a, assumenda recusandae magnam, dol
        stinctio voluptatum repudiandae ea! Deserunt aut fuga a, sequi voluptates eius archite
        cto error.
    </div>
  </body>
  <script>
    let year_sel=document.getElementById('year');
    
    let temp='<option value="" disabled selected>Select The Year</option>'+year_sel.innerHTML;
    year_sel.innerHTML=temp;
    let course_sel=document.getElementById('course');
    let subject_sel=document.getElementById('subject');
    let sem_sel=document.getElementById('sem');

    year_sel.onchange=function(){
        year=year_sel.value;
        // alert(year);
        fetch('form/year/'+year).then(function(response){
            response.json().then(function(data){
                let options='<option value="" disabled selected>Select The Course</option>';
                // console.table(data);  
                for(let course of data.courses){
                    options+='<option value="'+course.id+'">'+course.course+'</option>';
                }
                course_sel.innerHTML=options;
            })
        });
    }
    course_sel.onchange=function(){
        course=course_sel.value;
        // alert(course);
        fetch('form/course/'+course).then(function(response){
            response.json().then(function(data){
                let options='<option value="" disabled selected>Select the Subject</option>';
                // console.table(data);  
                for(let subject of data.subjects){
                    options+='<option value="'+subject.id+'">'+subject.subject+'</option>';
                }
                subject_sel.innerHTML=options;
            })
        });
    }
    subject_sel.onchange=function(){
        subject=subject_sel.value;
        // alert(year);
        fetch('form/subject/'+subject).then(function(response){
            response.json().then(function(data){
                let options='<option value="" disabled selected>Select The Sems</option>';
                // console.table(data);  
                for(let sem of data.sems){
                    options+='<option value="'+sem.id+'">'+sem.sem+'</option>';
                }
                sem_sel.innerHTML=options;
            })
        });
    }
</script>
</html>
