<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student-Sheet</title>
    <!-- CSS only -->
    <link rel="stylesheet" href="/static/sheet.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <!-- {% set left = 0 %} {% set right = 5 %} -->
    <nav>
      <div class="top">
        <ul style="margin-top: 20px">
          <li>Assignments</li>
          <li>Mid Semester</li>
          <li>End Semester</li>
        </ul>
      </div>
      <div class="bottom top">
        <ul style="margin-bottom: 20px">
          <li>Student profiles</li>
          <li>Logout</li>
        </ul>
      </div>
    </nav>
    <main>
      <div class="aux">
        <div class="icon2">
          <div class="arrow2" id="left">s</div>
        </div>
        <img
          class="add"
          src="/static/images/istockphoto-1365197728-170667a-removebg-preview.png"
          width="150px"
          alt=""
        />
        <div class="icon">
          <div class="arrow" id="right">s</div>
        </div>
      </div>
      <form action="" method="post">
        <div class="mainbody">
          <div class="rows">
            <div class="cells">
              <h2>Roll No.</h2>
            </div>
            <div class="cells">
              <h2>Names</h2>
            </div>
            {% for ass in asss %}
            <div class="cells" id="cell1">
              <h4>{{ass.assi}}</h4>
              <img
                class="close"
                src="/static/images/icon-close-menu.svg"
                alt=""
                style="margin-left: 20px; margin-top: -5px"
                width="20px"
              />
            </div>
            {% endfor %}
            <div class="cells" style="margin-left: auto">
              <h4>TOTAL</h4>
            </div>
          </div>

          {% for student in students %}
          <div class="rows" name="{{ass}}">
            <div class="cells">{{student.sroll}}</div>
            <div class="cells">
              <h4>{{student.sfname}} {{student.slname}}</h4>
            </div>
            {% for ass in asss %} {% set mid = ass.assi+'-'+student.sroll|string
            %}
            <input
              class="cells"
              type="text"
              name="{{mid}}"
              value="{{marksdict[mid]}}"
            />
            {% endfor %}
            <div class="cells">
              <h5>{{total[student.sroll]}}</h5>
            </div>
          </div>
          {% endfor %}
          <button type="submit" class="btn btn-success">Submit</button>
        </div>
      </form>
    </main>
    <script>
      const $icon = document.querySelector(".icon");
      const $arrow = document.querySelector(".arrow");
      $icon.onclick = () => {
        $arrow.animate([{ left: "0" }, { left: "10px" }, { left: "0" }], {
          duration: 300,
          iterations: 2,
        });
      };
      const $icon2 = document.querySelector(".icon2");
      const $arrow2 = document.querySelector(".arrow2");
      $icon2.onclick = () => {
        $arrow2.animate([{ left: "0" }, { left: "-10px" }, { left: "0" }], {
          duration: 300,
          iterations: 2,
        });
      };
      const left = document.querySelector(".left");
      const right = document.querySelector(".right");
      const cell_block = document.querySelector("#cell2");
      const cells = document.querySelector("#cell1");
      right.addEventListener("onclick", () => {
        console.log("lk");
        cells.style.display = "none";
        cell_block.style.display = "flex";
      });
    </script>
  </body>
</html>
